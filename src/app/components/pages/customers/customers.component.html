<div class="row justify-content-center">
  <div class="col-xl-12">
    <app-card cardTitle="Customer List" [options]="false" blockClass="table-border-style">
      <div class="table-responsive">
        <p-table
          #dt2
          [value]="customers"
          dataKey="id"
          [rows]="paginator.pageSize"
          [rowsPerPageOptions]="[5, 10, 25, 50]"
          [loading]="loading"
          [paginator]="true"
          [lazy]="true"
          (onLazyLoad)="pageChanged()"
          [tableStyle]="{ 'min-width': '75rem' }"
        >
          <!-- Search bar -->
          <ng-template pTemplate="caption">
            <div class="p-grid">
              <div class="p-col-6">
                <h5 class="ml-2">Search Customers</h5>
              </div>
              <div class="p-col-6">
                <p-inputIcon iconPos="right" class="float-right">
                  <input
                    pInputText
                    type="text"
                    placeholder="Search..."
                  />
                  <i class="pi pi-search"></i>
                </p-inputIcon>
              </div>
            </div>
          </ng-template>

          <!-- Table Header -->
          <ng-template pTemplate="header">
            <tr>
              <th>Name</th>
              <th>Country</th>
              <th>Agent</th>
              <th>Status</th>
              <th>Verified</th>
            </tr>
          </ng-template>

          <!-- Table Body -->
          <ng-template pTemplate="body" let-customer>
            <tr>
              <td>{{ customer.name }}</td>
              <td>{{ customer.country }}</td>
              <td>{{ customer.agent }}</td>
              <td>
                <p-tag
                  [value]="customer.status"
                  [severity]="getSeverity(customer.status)"
                ></p-tag>
              </td>
              <td>
                <i
                  class="pi"
                  [ngClass]="{
                    'text-green-500 pi-check-circle': customer.verified,
                    'text-red-500 pi-times-circle': !customer.verified
                  }"
                ></i>
              </td>
            </tr>
          </ng-template>

          <!-- Empty Message -->
          <ng-template pTemplate="emptymessage">
            <tr>
              <td colspan="5">No customers found.</td>
            </tr>
          </ng-template>

          <!-- Footer (Pagination Controls) -->
          <ng-template pTemplate="footer">
            <tr>
              <td colspan="5">
                <p-paginator
                  [rows]="paginator.pageSize"
                  [rowsPerPageOptions]="[5, 10, 25, 50]"
                  (onPageChange)="pageChanged()"
                ></p-paginator>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </app-card>
  </div>
</div>
